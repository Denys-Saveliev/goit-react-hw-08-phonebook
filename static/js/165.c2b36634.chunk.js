"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[165],{1165:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ze}});var r,a,i=n(885),l=n(2791),o="Container_container__VVOCq",c=n(184),s=function(e){var t=e.children;return(0,c.jsx)("div",{className:o,children:t})},u="Section_container__vEvWA",d="Section_title__SLHvV",m=function(e){var t=e.title,n=e.children;return(0,c.jsxs)("div",{className:u,children:[(0,c.jsx)("h2",{className:d,children:t}),n]})},h=n(5705),f=n(1089),p=n(5562),v=n.n(p),x="ContactForm_form__ttXmo",_="ContactForm_input__e2U+9",y="ContactForm_inputNameFocus__pFsBV",b="ContactForm_inputTelFocus__4+ZoG",j="ContactForm_btn__yDDxL",g=n(9676),w=(n(3158),n(6373)),C=function(){return v().Notify.failure("Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan")},N=function(){return v().Notify.failure("Please type a valid Phone number!")},O=f.Ry().shape({name:f.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/).required(),number:f.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/).required()}),E={name:"",number:""},F=function(){var e=(0,g.Jx)().data,t=(0,g.Lr)(),n=(0,i.Z)(t,2),r=n[0],a=n[1].isLoading;return(0,c.jsx)(h.J9,{onSubmit:function(t,n){var a=n.resetForm;e.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?v().Notify.failure("".concat(t.name," is already in contacts")):(r(t).then((function(){return v().Notify.success("Contact added to your phonebook!")})),a())},initialValues:E,validationSchema:O,children:(0,c.jsxs)(h.l0,{className:x,autoComplete:"off",children:[(0,c.jsx)(h.gN,{placeholder:"Name",className:_,type:"text",name:"name"}),(0,c.jsx)("span",{className:y}),(0,c.jsx)(h.Bc,{name:"name",render:C}),(0,c.jsx)(h.gN,{placeholder:"Phone number",className:_,type:"tel",name:"number"}),(0,c.jsx)("span",{className:b}),(0,c.jsx)(h.Bc,{name:"number",render:N}),(0,c.jsx)("button",{className:j,type:"submit",children:a?(0,c.jsx)(w.g4,{height:"20",width:"45",radius:"9",color:"#00000080",ariaLabel:"three-dots-loading",wrapperStyle:{display:"flex",alignItems:"center",justifyContent:"center"}}):"Add contact"})]})})},z="Filter_inputWrapper__-FNL8",L="Filter_input__N7T3z",Z="Filter_inputFocusFilter__MiFeC",I=function(e){var t=e.value,n=e.onChange;return(0,c.jsxs)("div",{className:z,children:[(0,c.jsx)("input",{className:L,placeholder:"Find contacts by name",type:"text",value:t,onChange:n}),(0,c.jsx)("span",{className:Z})]})},k=n(1413),S=n(5987),M="IconButton_IconButton__r-hpi",P=["children","onClick"],A=function(e){var t=e.children,n=e.onClick,r=(0,S.Z)(e,P);return(0,c.jsx)("button",(0,k.Z)((0,k.Z)({type:"button",className:M,onClick:n},r),{},{children:t}))},B=["title","titleId"];function J(){return J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function q(e,t){var n=e.title,i=e.titleId,o=V(e,B);return l.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":i},o),void 0===n?l.createElement("title",{id:i},"bin"):n?l.createElement("title",{id:i},n):null,r||(r=l.createElement("path",{d:"M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z"})),a||(a=l.createElement("path",{d:"M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z"})))}var D,R=l.forwardRef(q),T=(n.p,["title","titleId"]);function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function W(e,t){var n=e.title,r=e.titleId,a=U(e,T);return l.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},a),void 0===n?l.createElement("title",{id:r},"pencil"):n?l.createElement("title",{id:r},n):null,D||(D=l.createElement("path",{d:"M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z"})))}var X,G=l.forwardRef(W),Y=(n.p,["title","titleId"]);function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Q(e,t){var n=e.title,r=e.titleId,a=K(e,Y);return l.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},a),void 0===n?l.createElement("title",{id:r},"phone"):n?l.createElement("title",{id:r},n):null,X||(X=l.createElement("path",{d:"M22 20c-2 2-2 4-4 4s-4-2-6-4-4-4-4-6 2-2 4-4-4-8-6-8-6 6-6 6c0 4 4.109 12.109 8 16s12 8 16 8c0 0 6-4 6-6s-6-8-8-6z"})))}var ee,te,ne=l.forwardRef(Q),re=(n.p,"ContactListItem_item__UAAix"),ae="ContactListItem_itemContact__Gri86",ie="ContactListItem_itemText__gYzZu",le="ContactListItem_btnWrapper__6PEpd",oe="ContactListItem_btn__Kdzd+",ce="ContactListItem_btnLink__dnDQ3",se=function(e){var t=e.id,n=e.name,r=e.number,a=e.edit,l=(0,g.Nt)(),o=(0,i.Z)(l,2),s=o[0],u=o[1].isLoading;return(0,c.jsxs)("li",{className:re,children:[(0,c.jsxs)("div",{className:ae,children:[(0,c.jsxs)("p",{className:ie,children:[n,":"]})," ",(0,c.jsx)("p",{className:ie,children:r})]}),(0,c.jsxs)("div",{className:le,children:[(0,c.jsx)("a",{href:"tel:"+r,className:ce,children:(0,c.jsx)(A,{className:oe,"aria-label":"Phone",children:(0,c.jsx)(ne,{fill:"#32CD32",width:"20px",height:"20px"})})}),(0,c.jsx)(A,{className:oe,"aria-label":"Edit contact",onClick:a,children:(0,c.jsx)(G,{fill:"#00000080",width:"20px",height:"20px"})}),(0,c.jsx)(A,{className:oe,"aria-label":"Delete contact",onClick:function(){return s(t).then((function(){return v().Notify.success("Contact successfully removed!")}))},children:u?(0,c.jsx)(w.g4,{height:"20",width:"20",color:"#00000080"}):(0,c.jsx)(R,{fill:"#00000080",width:"20px",height:"20px"})})]})]})},ue=n(4164),de="Modal_Overlay__yoxbg",me="Modal_Modal__I1UYJ",he="EditContactForm_form__L+B1Z",fe="EditContactForm_input__+zEeD",pe="EditContactForm_inputNameFocus__tnF1d",ve="EditContactForm_inputTelFocus__Oi-XJ",xe="EditContactForm_btn__XVbTs",_e=function(){return v().Notify.failure("Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan")},ye=function(){return v().Notify.failure("Please type a valid Phone number!")},be=f.Ry().shape({name:f.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/).required(),number:f.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/).required()}),je=function(e){var t=e.close,n=e.initialValues,r=(0,g.Jx)().data,a=(0,g.i)(),l=(0,i.Z)(a,1)[0];return(0,c.jsx)(h.J9,{onSubmit:function(e,n){var a=n.resetForm;r.find((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?v().Notify.failure("".concat(e.name," is already in contacts")):(l(e).then((function(){return v().Notify.success("Contact edited succesfully!")})),t(),a())},initialValues:n,validationSchema:be,children:(0,c.jsxs)(h.l0,{className:he,autoComplete:"off",children:[(0,c.jsx)(h.gN,{className:fe,type:"text",name:"name"}),(0,c.jsx)("span",{className:pe}),(0,c.jsx)(h.Bc,{name:"name",render:_e}),(0,c.jsx)(h.gN,{className:fe,type:"tel",name:"number"}),(0,c.jsx)("span",{className:ve}),(0,c.jsx)(h.Bc,{name:"number",render:ye}),(0,c.jsx)("button",{className:xe,type:"submit",children:"Save"})]})})},ge=["title","titleId"];function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ne(e,t){var n=e.title,r=e.titleId,a=Ce(e,ge);return l.createElement("svg",we({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},a),void 0===n?l.createElement("title",{id:r},"cancel-circle"):n?l.createElement("title",{id:r},n):null,ee||(ee=l.createElement("path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"})),te||(te=l.createElement("path",{d:"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z"})))}var Oe=l.forwardRef(Ne),Ee=(n.p,document.querySelector("#modal-root"));var Fe=function(e){var t=e.onClose,n=e.values;return(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),(0,ue.createPortal)((0,c.jsx)("div",{className:de,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,c.jsxs)("div",{className:me,children:[(0,c.jsx)(A,{onClick:t,"aria-label":"Close Editor",children:(0,c.jsx)(Oe,{width:"25",height:"25",fill:"#00000080"})}),(0,c.jsx)(m,{title:"Edit your contact",children:(0,c.jsx)(je,{close:t,initialValues:n})})]})}),Ee)},ze="ContactList_list__csErn",Le=function(e){var t,n=e.contacts,r=(0,l.useState)(null),a=(0,i.Z)(r,2),o=a[0],s=a[1],u=(0,l.useState)(!1),d=(0,i.Z)(u,2),m=d[0],h=d[1],f=function(){h(!m)},p=(t=o,n.find((function(e){return e.id===t})));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("ul",{className:ze,children:n.map((function(e){return(0,l.createElement)(se,(0,k.Z)((0,k.Z)({},e),{},{key:e.id,edit:function(){return function(e){s(e),f()}(e.id)}}))}))}),m&&(0,c.jsx)(Fe,{onClose:f,values:p})]})},Ze=function(){var e=(0,l.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,g.Jx)(),o=a.isLoading,u=a.data,d=(null===u||void 0===u?void 0:u.length)>0;return(0,c.jsxs)(s,{children:[(0,c.jsx)(m,{title:"Create a new contact",children:(0,c.jsx)(F,{})}),o&&(0,c.jsx)(w.g4,{height:"80",width:"80",radius:"9",color:"#00000080",ariaLabel:"three-dots-loading",wrapperStyle:{display:"flex",alignItems:"center",justifyContent:"center"}}),d&&(0,c.jsxs)(m,{title:"Contacts",children:[(0,c.jsx)(I,{value:n,onChange:function(e){return r(e.target.value)}}),(0,c.jsx)(Le,{contacts:u.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})]})]})}}}]);
//# sourceMappingURL=165.c2b36634.chunk.js.map